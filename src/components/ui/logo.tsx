"use client";

import * as React from "react";
import { usePathname } from "next/navigation";

export interface LogoProps {
  alt?: string;
  width?: number;
  height?: number;
  className?: string;
  priority?: boolean;
}

/**
 * Inline SVG logo that adapts to theme variables:
 * - Text uses var(--foreground)
 * - Icon uses var(--primary)
 */
const Logo: React.FC<LogoProps> = ({
  alt = "Notus",
  width = 196,
  height = 56,
  className = "",
  priority = false,
}) => {
  const pathname = usePathname();
  const isAdmin = pathname?.startsWith("/admin") ?? false;

  return (
    <div className={`relative inline-block ${className}`} style={{ lineHeight: 0 }} aria-label={alt} role="img">
      <svg
        width={width}
        height={height}
        viewBox="0 0 196 56"
        xmlns="http://www.w3.org/2000/svg"
        className="select-none"
        aria-hidden="true"
      >
        <path
          d="M43.625 9.875V44H39.2891L25.625 17.6797V44H21.3125V9.875H25.625L39.3594 36.2656V9.875H43.625ZM116.188 9.875V44H111.922V9.875H116.188ZM125.164 9.875V13.5781H102.969V9.875H125.164ZM146.258 9.875H150.57V33.8984C150.57 36.4609 150.078 38.5156 149.094 40.0625C148.109 41.6094 146.812 42.7344 145.203 43.4375C143.609 44.125 141.891 44.4688 140.047 44.4688C138.078 44.4688 136.305 44.125 134.727 43.4375C133.148 42.7344 131.891 41.6094 130.953 40.0625C130.031 38.5156 129.57 36.4609 129.57 33.8984V9.875H133.859V33.8984C133.859 35.6797 134.109 37.0703 134.609 38.0703C135.125 39.0703 135.844 39.7734 136.766 40.1797C137.703 40.5859 138.797 40.7891 140.047 40.7891C141.312 40.7891 142.406 40.5859 143.328 40.1797C144.266 39.7734 144.984 39.0703 145.484 38.0703C146 37.0703 146.258 35.6797 146.258 33.8984V9.875ZM172.086 35.375C172.086 34.5781 171.992 33.875 171.805 33.2656C171.617 32.6406 171.289 32.0781 170.82 31.5781C170.352 31.0781 169.695 30.6016 168.852 30.1484C168.008 29.6953 166.938 29.2344 165.641 28.7656C164.234 28.2656 162.961 27.7109 161.82 27.1016C160.68 26.4766 159.703 25.7656 158.891 24.9688C158.094 24.1719 157.477 23.2578 157.039 22.2266C156.602 21.1953 156.383 20.0156 156.383 18.6875C156.383 17.3594 156.609 16.1328 157.062 15.0078C157.531 13.8828 158.188 12.9062 159.031 12.0781C159.891 11.2344 160.922 10.5781 162.125 10.1094C163.328 9.64062 164.672 9.40625 166.156 9.40625C168.375 9.40625 170.242 9.89844 171.758 10.8828C173.289 11.8516 174.445 13.125 175.227 14.7031C176.008 16.2656 176.398 17.9375 176.398 19.7188H172.086C172.086 18.4375 171.875 17.3047 171.453 16.3203C171.047 15.3203 170.406 14.5391 169.531 13.9766C168.672 13.3984 167.547 13.1094 166.156 13.1094C164.906 13.1094 163.875 13.3516 163.062 13.8359C162.266 14.3203 161.672 14.9766 161.281 15.8047C160.906 16.6328 160.719 17.5781 160.719 18.6406C160.719 19.3594 160.844 20.0156 161.094 20.6094C161.344 21.1875 161.727 21.7266 162.242 22.2266C162.773 22.7266 163.43 23.1875 164.211 23.6094C165.008 24.0312 165.945 24.4375 167.023 24.8281C168.695 25.375 170.125 25.9844 171.312 26.6562C172.5 27.3281 173.469 28.0859 174.219 28.9297C174.969 29.7578 175.516 30.7031 175.859 31.7656C176.219 32.8125 176.398 34 176.398 35.3281C176.398 36.7188 176.164 37.9766 175.695 39.1016C175.242 40.2266 174.578 41.1875 173.703 41.9844C172.828 42.7812 171.773 43.3984 170.539 43.8359C169.305 44.2578 167.914 44.4688 166.367 44.4688C165.023 44.4688 163.703 44.25 162.406 43.8125C161.125 43.375 159.961 42.7188 158.914 41.8438C157.867 40.9688 157.031 39.8906 156.406 38.6094C155.781 37.3125 155.469 35.8125 155.469 34.1094H159.781C159.781 35.2812 159.953 36.2891 160.297 37.1328C160.641 37.9609 161.117 38.6484 161.727 39.1953C162.336 39.7422 163.031 40.1484 163.812 40.4141C164.609 40.6641 165.461 40.7891 166.367 40.7891C167.617 40.7891 168.664 40.5703 169.508 40.1328C170.367 39.6953 171.008 39.0703 171.43 38.2578C171.867 37.4453 172.086 36.4844 172.086 35.375Z"
          fill="var(--foreground)"
        />
        {isAdmin ? (
          <g
            fill="none"
            stroke="var(--primary)"
            strokeWidth="2.5"
            transform="translate(56.125, 4) scale(1.2, 1.35)"
          >
            <path d="M5 15v15h22V15Zm4 0C9 9 9 5 16 5s7 4 7 10m-7 5v3" />
            <circle cx="16" cy="24" r="1" />
          </g>
        ) : (
          <>
          <path
          d="M89.75 9H59.75C57.6875 9 56 10.6875 56 12.75V46.5L63.5 39H89.75C91.8125 39 93.5 37.3125 93.5 35.25V12.75C93.5 10.6875 91.8125 9 89.75 9ZM89.75 35.25H62L59.75 37.5V12.75H89.75V35.25Z"
          fill="var(--primary)"
          stroke="var(--primary)"
          strokeWidth={1}
        />
          <path
            d="M59.75 9.125H89.75C91.7435 9.125 93.375 10.7565 93.375 12.75V35.25C93.375 37.2435 91.7435 38.875 89.75 38.875H63.4482L63.4111 38.9111L56.125 46.1973V12.75C56.125 10.7565 57.7565 9.125 59.75 9.125ZM59.625 37.8018L59.8389 37.5889L62.0527 35.375H89.875V12.625H59.625V37.8018Z"
            stroke="var(--primary)"
            strokeWidth="0.25"
            fill="none"
          />
          </>
        )}
      </svg>
    </div>
  );
};

export default Logo;

